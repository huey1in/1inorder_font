{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            cacheSize: '0KB'\n        };\n    },\n    onLoad() {\n        this.getCacheSize();\n    },\n    methods: {\n        getCacheSize() {\n            // 获取缓存大小（模拟）\n            try {\n                const info = uni.getStorageInfoSync();\n                if (info && info.currentSize) {\n                    const size = info.currentSize;\n                    if (size < 1024) {\n                        this.cacheSize = size + 'KB';\n                    }\n                    else {\n                        this.cacheSize = (size / 1024).toFixed(2) + 'MB';\n                    }\n                }\n            }\n            catch (e) {\n                this.cacheSize = '0KB';\n            }\n        },\n        goChangePassword() {\n            const token = uni.getStorageSync('token');\n            if (!token) {\n                uni.showToast({ title: '请先登录', icon: 'none' });\n                uni.navigateTo({ url: '/pages/login/login' });\n                return null;\n            }\n            uni.navigateTo({ url: '/pages/settings/password' });\n        },\n        goEditProfile() {\n            const token = uni.getStorageSync('token');\n            if (!token) {\n                uni.showToast({ title: '请先登录', icon: 'none' });\n                uni.navigateTo({ url: '/pages/login/login' });\n                return null;\n            }\n            uni.navigateTo({ url: '/pages/settings/profile' });\n        },\n        goAgreement() {\n            uni.navigateTo({ url: '/pages/legal/agreement' });\n        },\n        goPrivacy() {\n            uni.navigateTo({ url: '/pages/legal/privacy' });\n        },\n        clearCache() {\n            uni.showModal(new UTSJSONObject({\n                title: '提示',\n                content: '确定要清除缓存吗？',\n                success: (res) => {\n                    if (res.confirm) {\n                        // 保留登录信息\n                        const token = uni.getStorageSync('token');\n                        const userInfo = uni.getStorageSync('userInfo');\n                        uni.clearStorageSync();\n                        // 恢复登录信息\n                        if (token)\n                            uni.setStorageSync('token', token);\n                        if (userInfo)\n                            uni.setStorageSync('userInfo', userInfo);\n                        this.cacheSize = '0KB';\n                        uni.showToast({ title: '缓存已清除', icon: 'success' });\n                    }\n                }\n            }));\n        }\n    }\n});\n//# sourceMappingURL=D:/order/fontend/pages/settings/settings.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getStorageInfoSync","uni.getStorageSync","uni.showToast","uni.navigateTo","uni.showModal","uni.clearStorageSync","uni.setStorageSync"],"map":"{\"version\":3,\"file\":\"settings.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"settings.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
