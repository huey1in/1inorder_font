{"code":"import { defineComponent } from \"vue\";\nimport { BASE_URL } from \"@/common/config\";\nexport default defineComponent({\n    data() {\n        return {\n            phone: '',\n            password: ''\n        };\n    },\n    methods: {\n        handleLogin() {\n            if (!this.phone) {\n                uni.showToast({ title: '请输入手机号', icon: 'none' });\n                return null;\n            }\n            if (!this.password) {\n                uni.showToast({ title: '请输入密码', icon: 'none' });\n                return null;\n            }\n            uni.showLoading({ title: '登录中...' });\n            uni.request({\n                url: `${BASE_URL}/auth/login`,\n                method: 'POST',\n                header: new UTSJSONObject({\n                    'Content-Type': 'application/json'\n                }),\n                data: new UTSJSONObject({\n                    phone: this.phone,\n                    password: this.password\n                }),\n                success: (res = null) => {\n                    if (res.data.success && res.data.data.token) {\n                        uni.setStorageSync('token', res.data.data.token);\n                        uni.setStorageSync('userInfo', res.data.data.user);\n                        uni.showToast({ title: '登录成功', icon: 'success' });\n                        setTimeout(() => {\n                            uni.navigateBack();\n                        }, 1500);\n                    }\n                    else {\n                        uni.showToast({ title: res.data.message || '登录失败', icon: 'none' });\n                    }\n                },\n                fail: () => {\n                    uni.showToast({ title: '网络错误', icon: 'none' });\n                },\n                complete: () => {\n                    uni.hideLoading();\n                }\n            });\n        },\n        goToRegister() {\n            uni.navigateTo({ url: '/pages/register/register' });\n        },\n        goAgreement() {\n            uni.navigateTo({ url: '/pages/legal/agreement' });\n        },\n        goPrivacy() {\n            uni.navigateTo({ url: '/pages/legal/privacy' });\n        }\n    }\n});\n//# sourceMappingURL=D:/order/fontend/pages/login/login.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.showToast","uni.showLoading","uni.request","uni.setStorageSync","uni.navigateBack","uni.hideLoading","uni.navigateTo"],"map":"{\"version\":3,\"file\":\"login.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"login.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACC,OAAO,EAAE,QAAQ,EAAE,wBAA2B;AAE9C,+BAAe;IACd,IAAI;QACH,OAAO;YACN,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;SACZ,CAAA;IACF,CAAC;IACD,OAAO,EAAE;QACR,WAAW;YACV,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBAChB,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAA;gBAChD,YAAM;aACN;YACD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACnB,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAA;gBAC/C,YAAM;aACN;YAED,GAAG,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAA;YAEpC,GAAG,CAAC,OAAO,CAAC;gBACX,GAAG,EAAE,GAAG,QAAQ,aAAa;gBAC7B,MAAM,EAAE,MAAM;gBACd,MAAM,oBAAE;oBACP,cAAc,EAAE,kBAAkB;iBAClC,CAAA;gBACD,IAAI,oBAAE;oBACL,KAAK,EAAE,IAAI,CAAC,KAAK;oBACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;iBACvB,CAAA;gBACD,OAAO,EAAE,CAAC,UAAQ;oBACjB,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;wBAC5C,GAAG,CAAC,cAAc,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;wBAChD,GAAG,CAAC,cAAc,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;wBAClD,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAA;wBACjD,UAAU,CAAC;4BACV,GAAG,CAAC,YAAY,EAAE,CAAA;wBACnB,CAAC,EAAE,IAAI,CAAC,CAAA;qBACR;yBAAM;wBACN,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAA;qBAClE;gBACF,CAAC;gBACD,IAAI,EAAE;oBACL,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAA;gBAC/C,CAAC;gBACD,QAAQ,EAAE;oBACT,GAAG,CAAC,WAAW,EAAE,CAAA;gBAClB,CAAC;aACD,CAAC,CAAA;QACH,CAAC;QAED,YAAY;YACX,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,0BAA0B,EAAE,CAAC,CAAA;QACpD,CAAC;QAED,WAAW;YACV,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,wBAAwB,EAAE,CAAC,CAAA;QAClD,CAAC;QAED,SAAS;YACR,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,sBAAsB,EAAE,CAAC,CAAA;QAChD,CAAC;KACD;CACD,EAAA\"}"}
