{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            isLoggedIn: false,\n            defaultAvatarImage: '/static/icons/default-avatar.png',\n            userInfo: new UTSJSONObject({\n                username: '',\n                nickname: '',\n                phone: '',\n                avatar: ''\n            })\n        };\n    },\n    computed: {\n        displayName() {\n            const info = this.userInfo || {};\n            if (info.nickname)\n                return info.nickname;\n            return '用户';\n        }\n    },\n    onShow() {\n        this.checkLoginStatus();\n    },\n    methods: {\n        checkLoginStatus() {\n            const token = uni.getStorageSync('token');\n            const userInfo = uni.getStorageSync('userInfo');\n            this.isLoggedIn = !!token;\n            if (userInfo) {\n                this.userInfo = userInfo;\n            }\n        },\n        goLogin() {\n            uni.navigateTo({ url: '/pages/login/login' });\n        },\n        goOrderList(status = null) {\n            if (!this.isLoggedIn) {\n                uni.showToast({ title: '请先登录', icon: 'none' });\n                this.goLogin();\n                return null;\n            }\n            if (status) {\n                uni.setStorageSync('orderStatus', status);\n            }\n            uni.switchTab({ url: '/pages/order/list' });\n        },\n        goAddress() {\n            if (!this.isLoggedIn) {\n                uni.showToast({ title: '请先登录', icon: 'none' });\n                this.goLogin();\n                return null;\n            }\n            uni.navigateTo({ url: '/pages/address/list' });\n        },\n        goSettings() {\n            uni.navigateTo({ url: '/pages/settings/settings' });\n        },\n        handleLogout() {\n            uni.showModal(new UTSJSONObject({\n                title: '提示',\n                content: '确定要退出登录吗？',\n                success: (res) => {\n                    if (res.confirm) {\n                        uni.removeStorageSync('token');\n                        uni.removeStorageSync('userInfo');\n                        this.isLoggedIn = false;\n                        this.userInfo = { username: '', phone: '' };\n                        uni.showToast({ title: '已退出登录', icon: 'success' });\n                    }\n                }\n            }));\n        }\n    }\n});\n//# sourceMappingURL=D:/order/fontend/pages/my/my.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getStorageSync","uni.navigateTo","uni.showToast","uni.setStorageSync","uni.switchTab","uni.showModal","uni.removeStorageSync"],"map":"{\"version\":3,\"file\":\"my.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"my.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AAEC,+BAAe;IACd,IAAI;QACH,OAAO;YACN,UAAU,EAAE,KAAK;YACjB,kBAAkB,EAAE,kCAAkC;YACtD,QAAQ,oBAAE;gBACT,QAAQ,EAAE,EAAE;gBACZ,QAAQ,EAAE,EAAE;gBACZ,KAAK,EAAE,EAAE;gBACT,MAAM,EAAE,EAAE;aACV,CAAA;SACD,CAAA;IACF,CAAC;IACD,QAAQ,EAAE;QACT,WAAW;YACV,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAA;YAChC,IAAI,IAAI,CAAC,QAAQ;gBAAE,OAAO,IAAI,CAAC,QAAQ,CAAA;YACvC,OAAO,IAAI,CAAA;QACZ,CAAC;KACD;IACD,MAAM;QACL,IAAI,CAAC,gBAAgB,EAAE,CAAA;IACxB,CAAC;IACD,OAAO,EAAE;QACR,gBAAgB;YACf,MAAM,KAAK,GAAG,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAA;YACzC,MAAM,QAAQ,GAAG,GAAG,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;YAC/C,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,KAAK,CAAA;YACzB,IAAI,QAAQ,EAAE;gBACb,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;aACxB;QACF,CAAC;QAED,OAAO;YACN,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,oBAAoB,EAAE,CAAC,CAAA;QAC9C,CAAC;QAED,WAAW,CAAC,aAAe;YAC1B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBACrB,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAA;gBAC9C,IAAI,CAAC,OAAO,EAAE,CAAA;gBACd,YAAM;aACN;YACD,IAAI,MAAM,EAAE;gBACX,GAAG,CAAC,cAAc,CAAC,aAAa,EAAE,MAAM,CAAC,CAAA;aACzC;YACD,GAAG,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,mBAAmB,EAAE,CAAC,CAAA;QAC5C,CAAC;QAED,SAAS;YACR,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBACrB,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAA;gBAC9C,IAAI,CAAC,OAAO,EAAE,CAAA;gBACd,YAAM;aACN;YACD,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,qBAAqB,EAAE,CAAC,CAAA;QAC/C,CAAC;QAED,UAAU;YACT,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,0BAA0B,EAAE,CAAC,CAAA;QACpD,CAAC;QAED,YAAY;YACX,GAAG,CAAC,SAAS,mBAAC;gBACb,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,WAAW;gBACpB,OAAO,EAAE,CAAC,GAAG;oBACZ,IAAI,GAAG,CAAC,OAAO,EAAE;wBAChB,GAAG,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAA;wBAC9B,GAAG,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAA;wBACjC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAA;wBACvB,IAAI,CAAC,QAAQ,GAAG,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAA;wBAC3C,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAA;qBAClD;gBACF,CAAC;aACD,EAAC,CAAA;QACH,CAAC;KACD;CACD,EAAA\"}"}
