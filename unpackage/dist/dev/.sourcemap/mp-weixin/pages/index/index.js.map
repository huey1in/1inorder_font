{"version":3,"file":"index.js","sources":["pages/index/index.uvue","C:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudXZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 顶部店铺信息 -->\r\n\t\t<view class=\"shop-header\">\r\n\t\t\t<!-- 背景装饰 -->\r\n\t\t\t<view class=\"header-bg-circle circle-1\"></view>\r\n\t\t\t<view class=\"header-bg-circle circle-2\"></view>\r\n\t\t\t\r\n\t\t\t<view class=\"shop-content\">\r\n\t\t\t\t<view class=\"shop-info\">\r\n\t\t\t\t\t<text class=\"shop-name\">{{shop.name}}</text>\r\n\t\t\t\t\t<text class=\"shop-desc\">{{shop.description}}</text>\r\n\t\t\t\t\t<view class=\"shop-status-row\">\r\n\t\t\t\t\t\t<view :class=\"['status-badge', shop.is_open ? 'open' : 'closed']\">\r\n\t\t\t\t\t\t\t<view class=\"status-dot\"></view>\r\n\t\t\t\t\t\t\t<text class=\"status-text\">{{shop.is_open ? '营业中' : '休息中'}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"opening-hours\">{{shop.opening_hours}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"shop-meta\">\r\n\t\t\t\t<view class=\"meta-row\" v-if=\"shop.address\">\r\n\t\t\t\t\t<image class=\"meta-icon\" src=\"/static/icons/icon-address.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"meta-text\">{{shop.address}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"meta-row\" v-if=\"shop.phone\">\r\n\t\t\t\t\t<image class=\"meta-icon\" src=\"/static/icons/icon-phone.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"meta-text\">{{shop.phone}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"meta-tags\">\r\n\t\t\t\t\t<text class=\"meta-tag\">起送￥{{shop.delivery_start_amount || 0}}</text>\r\n\t\t\t\t\t<text class=\"meta-tag\">配送费￥{{shop.delivery_fee || 0}}</text>\r\n\t\t\t\t\t<text class=\"meta-tag\">起订￥{{shop.min_order_amount || 0}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 公告栏 -->\r\n\t\t<view class=\"announcement\" v-if=\"shop.announcement\">\r\n\t\t\t<image class=\"announcement-icon\" src=\"/static/icons/icon-notice.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t<text class=\"announcement-text\">{{shop.announcement}}</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 分类与商品列表 -->\r\n\t\t<view class=\"main-content\">\r\n\t\t\t<!-- 左侧分类 -->\r\n\t\t\t<scroll-view class=\"category-list\" scroll-y>\r\n\t\t\t\t<view \r\n\t\t\t\t\tv-for=\"(item, index) in categories\" \r\n\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t:class=\"['category-item', currentCategory === index ? 'active' : '']\"\r\n\t\t\t\t\t@click=\"selectCategory(index)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<text class=\"category-name\">{{item.name}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\r\n\t\t\t<!-- 右侧商品列表 -->\r\n\t\t\t<scroll-view class=\"product-list\" scroll-y @scrolltolower=\"loadMore\">\r\n\t\t\t\t<view class=\"product-item\" v-for=\"product in products\" :key=\"product.id\" @click=\"goToDetail(product.id)\">\r\n\t\t\t\t\t<image class=\"product-image\" :src=\"getProductImage(product)\" mode=\"aspectFill\" @error=\"handleImageError(product)\"></image>\r\n\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t<text class=\"product-name\">{{product.name}}</text>\r\n\t\t\t\t\t\t<text class=\"product-desc\">{{product.description}}</text>\r\n\t\t\t\t\t\t<view class=\"product-bottom\">\r\n\t\t\t\t\t\t\t<view class=\"price-box\">\r\n\t\t\t\t\t\t\t\t<text class=\"price\">¥{{product.price}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"original-price\" v-if=\"product.original_price\">¥{{product.original_price}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"cart-btn\" @click.stop=\"addToCart(product)\">\r\n\t\t\t\t\t\t\t\t<text class=\"cart-btn-text\">+</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 加载状态 -->\r\n\t\t\t\t<view class=\"loading-more\" v-if=\"loading\">\r\n\t\t\t\t\t<text>加载中...</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"no-more\" v-if=\"!loading && noMore\">\r\n\t\t\t\t\t<text>没有更多了</text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 购物车遮罩 -->\r\n\t\t<view class=\"cart-overlay\" v-if=\"showCartPopup\" @click=\"toggleCartPopup\"></view>\r\n\r\n\t\t<!-- 底部购物车组件 -->\r\n\t\t<view class=\"cart-container\" v-if=\"cartCount > 0\">\r\n\t\t\t<!-- 展开的商品列表 -->\r\n\t\t\t<view :class=\"['cart-expand-list', showCartPopup ? 'show' : '']\">\r\n\t\t\t\t<view class=\"cart-expand-header\">\r\n\t\t\t\t\t<text class=\"cart-expand-title\">♡ 已选商品 ♡</text>\r\n\t\t\t\t\t<view class=\"cart-clear-btn\" @click=\"clearCart\">\r\n\t\t\t\t\t\t<text class=\"cart-clear-text\">清空</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view class=\"cart-expand-scroll\" scroll-y>\r\n\t\t\t\t\t<view class=\"cart-expand-item\" v-for=\"item in cartItems\" :key=\"item.id\">\r\n\t\t\t\t\t\t<image class=\"cart-expand-img\" :src=\"getCartItemImage(item)\" mode=\"aspectFill\" @error=\"handleImageError(item)\"></image>\r\n\t\t\t\t\t\t<view class=\"cart-expand-info\">\r\n\t\t\t\t\t\t\t<text class=\"cart-expand-name\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t<text class=\"cart-expand-price\">¥{{item.price}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cart-expand-qty\">\r\n\t\t\t\t\t\t\t<view class=\"cart-qty-btn\" @click=\"changeQuantity(item, -1)\">\r\n\t\t\t\t\t\t\t\t<text class=\"cart-qty-text\">-</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"cart-qty-num\">{{item.quantity}}</text>\r\n\t\t\t\t\t\t\t<view class=\"cart-qty-btn\" @click=\"changeQuantity(item, 1)\">\r\n\t\t\t\t\t\t\t\t<text class=\"cart-qty-text\">+</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 底部固定栏 -->\r\n\t\t\t<view :class=\"['cart-footer', showCartPopup ? 'expanded' : '']\">\r\n\t\t\t\t<view class=\"cart-footer-left\" @click=\"toggleCartPopup\">\r\n\t\t\t\t\t<view class=\"cart-icon-box\">\r\n\t\t\t\t\t\t<image class=\"cart-footer-icon\" src=\"/static/icons/icon-cart.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<view class=\"cart-count-badge\">\r\n\t\t\t\t\t\t\t<text class=\"cart-count-text\">{{cartCount}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"cart-footer-total\">¥{{cartTotal.toFixed(2)}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cart-footer-btn\" @click=\"goToCheckout\">\r\n\t\t\t\t\t<text class=\"cart-footer-btn-text\">去结算 ♡</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\t// 导入API配置\r\n\timport { BASE_URL } from '@/common/config.uts'\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshop: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tlogo: '',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\topening_hours: '',\r\n\t\t\t\t\tis_open: false,\r\n\t\t\t\t\tannouncement: '',\r\n\t\t\t\t\taddress: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tmin_order_amount: 0,\r\n\t\t\t\t\tdelivery_fee: 0,\r\n\t\t\t\t\tdelivery_start_amount: 0\r\n\t\t\t},\r\n\t\t\t\tcategories: [] as Array<{id: number, name: string}>,\r\n\t\t\t\tproducts: [] as Array<{id: number, name: string, description: string, price: number, original_price: number, images: Array<string>}>,\r\n\t\t\t\tcurrentCategory: 0,\r\n\t\t\t\tcartCount: 0,\r\n\t\t\t\tcartTotal: 0,\r\n\t\t\t\tcartItems: [] as Array<{id: number, product_id: number, name: string, price: number, quantity: number, images: Array<string>}>,\r\n\t\t\t\tshowCartPopup: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tnoMore: false,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tlimit: 10\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.fetchShopInfo()\r\n\t\t\tthis.fetchCategories()\r\n\t\t\tthis.fetchCartCount()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.fetchCartCount()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取店铺信息\r\n\t\t\tfetchShopInfo() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${BASE_URL}/shop/info`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\tif (res.data.success && res.data.data.shop) {\r\n\t\t\t\t\t\t\tconst info = res.data.data.shop\r\n\t\t\t\t\t\t\tthis.shop = {\r\n\t\t\t\t\t\t\t\t...this.shop,\r\n\t\t\t\t\t\t\t\t...info,\r\n\t\t\t\t\t\t\t\tis_open: (info.is_currently_open !== undefined ? info.is_currently_open : info.is_open) ? true : false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:199','获取店铺信息失败', err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取分类列表\r\n\t\t\tfetchCategories() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${BASE_URL}/categories`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\tif (res.data.success && res.data.data.categories) {\r\n\t\t\t\t\t\t\tthis.categories = res.data.data.categories\r\n\t\t\t\t\t\t\tif (this.categories.length > 0) {\r\n\t\t\t\t\t\t\t\tthis.fetchProducts()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:218','获取分类失败', err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取商品列表\r\n\t\t\tfetchProducts() {\r\n\t\t\t\tif (this.loading) return\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\t\r\n\t\t\t\tconst categoryId = this.categories[this.currentCategory]?.id\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${BASE_URL}/products`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcategory_id: categoryId,\r\n\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\tlimit: this.limit\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\tif (res.data.success && res.data.data.products) {\r\n\t\t\t\t\t\t\tconst newProducts = res.data.data.products\r\n\t\t\t\t\t\t\tif (this.page === 1) {\r\n\t\t\t\t\t\t\t\tthis.products = newProducts\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.products = [...this.products, ...newProducts]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.noMore = newProducts.length < this.limit\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:249','获取商品失败', err)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取购物车数量\r\n\t\t\tfetchCartCount() {\r\n\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\tif (!token) return\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${BASE_URL}/cart/count`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': `Bearer ${token}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\t\tthis.cartCount = res.data.data.count || 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// 同时获取购物车总金额\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${BASE_URL}/cart`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': `Bearer ${token}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\tif (res.data.success && res.data.data.cart) {\r\n\t\t\t\t\t\t\tthis.cartTotal = res.data.data.cart.total_amount || 0\r\n\t\t\t\t\t\t\t// 同时更新购物车列表\r\n\t\t\t\t\t\t\tconst items = res.data.data.cart.items || []\r\n\t\t\t\t\t\t\tthis.cartItems = items.map((item: any) => ({\r\n\t\t\t\t\t\t\t\tid: item.cart_item_id,\r\n\t\t\t\t\t\t\t\tproduct_id: item.product_id,\r\n\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\tprice: item.price,\r\n\t\t\t\t\t\t\t\tquantity: item.quantity,\r\n\t\t\t\t\t\t\t\timages: item.images || []\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 切换分类\r\n\t\t\tselectCategory(index: number) {\r\n\t\t\t\tthis.currentCategory = index\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.noMore = false\r\n\t\t\t\tthis.products = []\r\n\t\t\t\tthis.fetchProducts()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加载更多\r\n\t\t\tloadMore() {\r\n\t\t\t\tif (this.noMore || this.loading) return\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.fetchProducts()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 添加到购物车\r\n\t\t\taddToCart(product: any) {\r\n\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\tif (!token) {\r\n\t\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' })\r\n\t\t\t\t\tuni.navigateTo({ url: '/pages/login/login' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${BASE_URL}/cart/add`,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': `Bearer ${token}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tproduct_id: product.id,\r\n\t\t\t\t\t\tquantity: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\t\tuni.showToast({ title: '已加入购物车', icon: 'success' })\r\n\t\t\t\t\t\t\tthis.fetchCartCount()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({ title: res.data.message || '添加失败', icon: 'none' })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tuni.showToast({ title: '网络错误', icon: 'none' })\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 跳转到商品详情\r\n\t\t\tgoToDetail(id: number) {\r\n\t\t\t\tuni.navigateTo({ url: `/pages/product/detail?id=${id}` })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取商品图片\r\n\t\t\tgetProductImage(product: any): string {\r\n\t\t\t\tif (product.images && product.images.length > 0) {\r\n\t\t\t\t\treturn product.images[0]\r\n\t\t\t\t}\r\n\t\t\t\treturn DEFAULT_FOOD_IMAGE\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取购物车商品图片\r\n\t\t\tgetCartItemImage(item: any): string {\r\n\t\t\t\tif (item.images && item.images.length > 0) {\r\n\t\t\t\t\treturn item.images[0]\r\n\t\t\t\t}\r\n\t\t\t\treturn DEFAULT_FOOD_IMAGE\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 切换购物车弹窗\r\n\t\t\ttoggleCartPopup() {\r\n\t\t\t\tthis.showCartPopup = !this.showCartPopup\r\n\t\t\t\tif (this.showCartPopup) {\r\n\t\t\t\t\tthis.fetchCartCount()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 修改购物车商品数量\r\n\t\t\tchangeQuantity(item: any, delta: number) {\r\n\t\t\t\tconst newQty = item.quantity + delta\r\n\t\t\t\tif (newQty < 1) {\r\n\t\t\t\t\t// 删除商品\r\n\t\t\t\t\tthis.removeCartItem(item)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${BASE_URL}/cart/item/${item.id}`,\r\n\t\t\t\t\tmethod: 'PATCH',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': `Bearer ${token}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tquantity: newQty\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\t\titem.quantity = newQty\r\n\t\t\t\t\t\t\tthis.fetchCartCount()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 删除购物车商品\r\n\t\t\tremoveCartItem(item: any) {\r\n\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${BASE_URL}/cart/item/${item.id}`,\r\n\t\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': `Bearer ${token}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\t\tconst index = this.cartItems.findIndex((i: any) => i.id === item.id)\r\n\t\t\t\t\t\t\tif (index > -1) {\r\n\t\t\t\t\t\t\t\tthis.cartItems.splice(index, 1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.fetchCartCount()\r\n\t\t\t\t\t\t\t// 如果购物车为空，关闭弹窗\r\n\t\t\t\t\t\t\tif (this.cartItems.length === 0) {\r\n\t\t\t\t\t\t\t\tthis.showCartPopup = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 清空购物车\r\n\t\t\tclearCart() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认清空',\r\n\t\t\t\t\tcontent: '确定要清空购物车吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: `${BASE_URL}/cart/clear`,\r\n\t\t\t\t\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t'Authorization': `Bearer ${token}`\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (res: any) => {\r\n\t\t\t\t\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\t\t\t\t\tthis.cartItems = []\r\n\t\t\t\t\t\t\t\t\t\tthis.cartCount = 0\r\n\t\t\t\t\t\t\t\t\t\tthis.cartTotal = 0\r\n\t\t\t\t\t\t\t\t\t\tthis.showCartPopup = false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 去结算\r\n\t\t\tgoToCheckout() {\r\n\t\t\t\tthis.showCartPopup = false\r\n\t\t\t\tuni.navigateTo({ url: '/pages/order/create' })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 图片加载失败处理\r\n\t\t\thandleImageError(item: any) {\r\n\t\t\t\t// 强制更新图片为默认图\r\n\t\t\t\t// 注意：这里直接修改数据源，确保视图更新\r\n\t\t\t\tif (item.images) {\r\n\t\t\t\t\titem.images = [DEFAULT_FOOD_IMAGE]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100vh;\r\n\t\tbackground-color: #FFF5F8;\r\n\t\tbackground-image: radial-gradient(circle at 10% 20%, rgba(255, 182, 193, 0.4) 0%, transparent 20%),\r\n\t\t\t\t\t\t  radial-gradient(circle at 90% 80%, rgba(255, 218, 224, 0.4) 0%, transparent 20%);\r\n\t}\r\n\r\n\t/* 店铺头部 */\r\n\t.shop-header {\r\n\t\tposition: relative;\r\n\t\tpadding: 40rpx 30rpx 30rpx;\r\n\t\tbackground: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%);\r\n\t\tbox-shadow: 0 10rpx 30rpx rgba(255, 105, 180, 0.2);\r\n\t\toverflow: hidden;\r\n\t}\r\n    \r\n    .header-bg-circle {\r\n        position: absolute;\r\n        border-radius: 50%;\r\n        background: rgba(255, 255, 255, 0.15);\r\n        pointer-events: none;\r\n    }\r\n    \r\n    .circle-1 {\r\n        width: 300rpx;\r\n        height: 300rpx;\r\n        top: -100rpx;\r\n        right: -50rpx;\r\n    }\r\n    \r\n    .circle-2 {\r\n        width: 200rpx;\r\n        height: 200rpx;\r\n        bottom: -50rpx;\r\n        left: -50rpx;\r\n    }\r\n\r\n    .shop-content {\r\n        position: relative;\r\n        z-index: 1;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n\t.shop-info {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.shop-name {\r\n\t\tfont-size: 44rpx;\r\n\t\tfont-weight: 900;\r\n\t\tcolor: #FFFFFF;\r\n\t\tletter-spacing: 2px;\r\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0,0,0,0.1);\r\n        margin-bottom: 8rpx;\r\n\t}\r\n\r\n\t.shop-desc {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: rgba(255, 255, 255, 0.95);\r\n\t\tmargin-bottom: 16rpx;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n    .shop-status-row {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n\t.status-badge {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tpadding: 6rpx 16rpx;\r\n\t\tborder-radius: 30rpx;\r\n\t\tbackdrop-filter: blur(5px);\r\n        margin-right: 16rpx;\r\n\t}\r\n\r\n    .status-badge.open {\r\n        background: rgba(152, 216, 170, 0.9);\r\n    }\r\n    \r\n    .status-badge.closed {\r\n        background: rgba(255, 107, 107, 0.9);\r\n    }\r\n\r\n\t.status-dot {\r\n\t\twidth: 12rpx;\r\n\t\theight: 12rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\r\n\t.status-text {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.opening-hours {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: rgba(255, 255, 255, 0.9);\r\n        font-weight: 500;\r\n\t}\r\n\r\n\t.shop-meta {\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t\tmargin-top: 20rpx;\r\n\t\tbackground: rgba(255, 255, 255, 0.18);\r\n\t\tborder: 1px solid rgba(255, 255, 255, 0.3);\r\n\t\tborder-radius: 24rpx;\r\n\t\tpadding: 16rpx 20rpx;\r\n\t\tbackdrop-filter: blur(8px);\r\n\t}\r\n\r\n\t.meta-row {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.meta-icon {\r\n\t\twidth: 28rpx;\r\n\t\theight: 28rpx;\r\n\t\tmargin-right: 12rpx;\r\n\t}\r\n\r\n\t.meta-text {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\topacity: 0.95;\r\n\t}\r\n\r\n\t.meta-tags {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: 10rpx;\r\n\t\tmargin-top: 8rpx;\r\n\t}\r\n\r\n\t.meta-tag {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #FF69B4;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 6rpx 14rpx;\r\n\t\tfont-weight: 700;\r\n\t\tborder: 1px solid rgba(255, 105, 180, 0.2);\r\n\t}\r\n\r\n\t/* 公告栏 */\r\n\t.announcement {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tmargin: 24rpx;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.8);\r\n\t\tborder-radius: 30rpx;\r\n\t\tborder: 2px dashed #FFB6C1;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(255, 105, 180, 0.05);\r\n\t\tbackdrop-filter: blur(10px);\r\n\t}\r\n\r\n\t.announcement-icon {\r\n\t\twidth: 44rpx;\r\n\t\theight: 44rpx;\r\n\t\tmargin-right: 16rpx;\r\n\t}\r\n\r\n\t.announcement-text {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #5D4E6D;\r\n\t\tflex: 1;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t/* 主内容区 */\r\n\t.main-content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\toverflow: hidden;\r\n\t\tmargin: 0 24rpx;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 40rpx;\r\n\t\tbox-shadow: 0 8rpx 30rpx rgba(255, 105, 180, 0.15);\r\n\t\tbackdrop-filter: blur(20px);\r\n\t}\r\n\r\n\t/* 分类列表 */\r\n\t.category-list {\r\n\t\twidth: 190rpx;\r\n\t\tbackground-color: #FFF0F5;\r\n\t\tborder-radius: 40rpx 0 0 40rpx;\r\n\t}\r\n\r\n\t.category-item {\r\n\t\tpadding: 36rpx 20rpx;\r\n\t\ttext-align: center;\r\n\t\tposition: relative;\r\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\t}\r\n\r\n\t.category-item.active {\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 30rpx 0 0 30rpx;\r\n\t}\r\n\t\r\n\t.category-item.active::before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t\twidth: 8rpx;\r\n\t\theight: 40rpx;\r\n\t\tbackground-color: #FF69B4;\r\n\t\tborder-radius: 0 8rpx 8rpx 0;\r\n\t}\r\n\r\n\t.category-name {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #B8A9C9;\r\n\t\tfont-weight: 500;\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\r\n\t.category-item.active .category-name {\r\n\t\tcolor: #FF69B4;\r\n\t\tfont-weight: 800;\r\n\t\tfont-size: 30rpx;\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\r\n\t/* 商品列表 */\r\n\t.product-list {\r\n\t\tflex: 1;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding: 0 24rpx;\r\n\t\tborder-radius: 0 40rpx 40rpx 0;\r\n\t}\r\n\r\n\t.product-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tpadding: 30rpx 0;\r\n\t\tborder-bottom: 1px solid rgba(255, 228, 236, 0.6);\r\n\t}\r\n\t\r\n\t.product-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\r\n\t.product-image {\r\n\t\twidth: 180rpx;\r\n\t\theight: 180rpx;\r\n\t\tborder-radius: 30rpx;\r\n\t\tborder: 4rpx solid #FFF0F5;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);\r\n\t}\r\n\r\n\t.product-info {\r\n\t\tflex: 1;\r\n\t\tmargin-left: 24rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 4rpx 0;\r\n\t}\r\n\r\n\t.product-name {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #5D4E6D;\r\n\t}\r\n\r\n\t.product-desc {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #B8A9C9;\r\n\t\tmargin-top: 10rpx;\r\n\t\tline-height: 1.4;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\t-webkit-box-orient: vertical;\r\n\t}\r\n\r\n\t.product-bottom {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 16rpx;\r\n\t}\r\n\r\n\t.price-box {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: baseline;\r\n\t}\r\n\r\n\t.price {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 800;\r\n\t\tcolor: #FF69B4;\r\n\t}\r\n\r\n\t.original-price {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #D4C4E3;\r\n\t\ttext-decoration: line-through;\r\n\t\tmargin-left: 12rpx;\r\n\t}\r\n\r\n\t.cart-btn {\r\n\t\twidth: 64rpx;\r\n\t\theight: 64rpx;\r\n\t\tbackground: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 50%;\r\n\t\tbox-shadow: 0 6rpx 16rpx rgba(255, 105, 180, 0.3);\r\n\t\ttransition: transform 0.2s;\r\n\t}\r\n\t\r\n\t.cart-btn:active {\r\n\t\ttransform: scale(0.9);\r\n\t}\r\n\r\n\t.cart-btn-text {\r\n\t\tfont-size: 40rpx;\r\n\t\tcolor: #fff;\r\n\t\tfont-weight: bold;\r\n\t\tline-height: 1;\r\n\t\tmargin-top: -4rpx;\r\n\t}\r\n\r\n\t/* 加载状态 */\r\n\t.loading-more,\r\n\t.no-more {\r\n\t\tpadding: 40rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #B8A9C9;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t/* 购物车遮罩 */\r\n\t.cart-overlay {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t/* 购物车容器 */\r\n\t.cart-container {\r\n\t\tposition: fixed;\r\n\t\tleft: 24rpx;\r\n\t\tright: 24rpx;\r\n\t\tbottom: 20rpx;\r\n\t\tz-index: 999;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t/* 展开的商品列表 */\r\n\t.cart-expand-list {\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 40rpx 40rpx 0 0;\r\n\t\tmax-height: 0;\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(20rpx);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbox-shadow: 0 -5rpx 20rpx rgba(255, 105, 180, 0.1);\r\n\t\toverflow: hidden;\r\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\t}\r\n\r\n\t.cart-expand-list.show {\r\n\t\tmax-height: 60vh;\r\n\t\topacity: 1;\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\r\n\t.cart-expand-header {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 30rpx 36rpx;\r\n\t\tbackground-color: #FFF5F8;\r\n\t\tborder-radius: 40rpx 40rpx 0 0;\r\n\t\tborder-bottom: 1px solid #FFE4EC;\r\n\t}\r\n\r\n\t.cart-expand-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 800;\r\n\t\tcolor: #FF69B4;\r\n\t}\r\n\r\n\t.cart-clear-btn {\r\n\t\tpadding: 12rpx 24rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\r\n\t.cart-clear-text {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #B8A9C9;\r\n\t}\r\n\r\n\t.cart-expand-scroll {\r\n\t\tmax-height: 40vh;\r\n\t\tpadding: 0 36rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.cart-expand-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tpadding: 24rpx 0;\r\n\t\tborder-bottom: 1px solid #FFE4EC;\r\n\t}\r\n\r\n\t.cart-expand-img {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tborder: 3rpx solid #FFF0F5;\r\n\t}\r\n\r\n\t.cart-expand-info {\r\n\t\tflex: 1;\r\n\t\tmargin-left: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.cart-expand-name {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #5D4E6D;\r\n\t\tmargin-bottom: 8rpx;\r\n\t}\r\n\r\n\t.cart-expand-price {\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 800;\r\n\t\tcolor: #FF69B4;\r\n\t}\r\n\r\n\t.cart-expand-qty {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #FFF0F5;\r\n\t\tborder-radius: 30rpx;\r\n\t\tpadding: 6rpx;\r\n\t}\r\n\r\n\t.cart-qty-btn {\r\n\t\twidth: 52rpx;\r\n\t\theight: 52rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.cart-qty-btn:active {\r\n\t\tbackground-color: #FFE4EC;\r\n\t}\r\n\r\n\t.cart-qty-text {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #FF69B4;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.cart-qty-num {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #5D4E6D;\r\n\t\tpadding: 0 20rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t/* 底部固定栏 */\r\n\t.cart-footer {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.98);\r\n\t\tborder-radius: 40rpx;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(255, 105, 180, 0.15);\r\n\t\ttransition: all 0.3s;\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\t\toverflow: visible;\r\n\t}\r\n\t\r\n\t.cart-footer.expanded {\r\n\t\tborder-radius: 0 0 40rpx 40rpx;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(255, 105, 180, 0.15);\r\n\t}\r\n\r\n\t.cart-footer-left {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\toverflow: visible;\r\n\t}\r\n\r\n\t.cart-icon-box {\r\n\t\tposition: relative;\r\n\t\twidth: 90rpx;\r\n\t\theight: 90rpx;\r\n\t\tbackground-color: #FFF0F5;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\toverflow: visible;\r\n\t}\r\n\r\n\t.cart-footer-icon {\r\n\t\twidth: 48rpx;\r\n\t\theight: 48rpx;\r\n\t}\r\n\r\n\t.cart-count-badge {\r\n\t\tposition: absolute;\r\n\t\ttop: -8rpx;\r\n\t\tright: -8rpx;\r\n\t\tmin-width: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tbackground: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 10rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tborder: 3rpx solid #FFFFFF;\r\n\t\tz-index: 100;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(255, 20, 147, 0.3);\r\n\t}\r\n\r\n\t.cart-count-text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.cart-footer-total {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 800;\r\n\t\tcolor: #5D4E6D;\r\n\t\tmargin-left: 20rpx;\r\n\t}\r\n\r\n\t.cart-footer-btn {\r\n\t\tpadding: 24rpx 50rpx;\r\n\t\tbackground: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%);\r\n\t\tborder-radius: 30rpx;\r\n\t\tbox-shadow: 0 6rpx 20rpx rgba(255, 105, 180, 0.4);\r\n\t}\r\n\r\n\t.cart-footer-btn:active {\r\n\t\topacity: 0.9;\r\n\t}\r\n\r\n\t.cart-footer-btn-text {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-weight: bold;\r\n\t\tletter-spacing: 1px;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/order/fontend/pages/index/index.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","BASE_URL","res"],"mappings":";;;;AAgJC,MAAA,YAAeA,8BAAA;AAAA,EACd,OAAI;AACH,WAAO;AAAA,MACN,MAAM,IAAA,cAAA;AAAA,QACL,MAAM;AAAA,QACN,MAAM;AAAA,QACN,aAAa;AAAA,QACb,eAAe;AAAA,QACf,SAAS;AAAA,QACT,cAAc;AAAA,QACd,SAAS;AAAA,QACT,OAAO;AAAA,QACP,kBAAkB;AAAA,QAClB,cAAc;AAAA,QACd,uBAAuB;AAAA,OACxB;AAAA,MACA,YAAY,CAAuC;AAAA,MACnD,UAAU,CAA0H;AAAA,MACpI,iBAAiB;AAAA,MACjB,WAAW;AAAA,MACX,WAAW;AAAA,MACX,WAAW,CAAmH;AAAA,MAC9H,eAAe;AAAA,MACf,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA;EAER;AAAA,EACD,SAAM;AACL,SAAK,cAAa;AAClB,SAAK,gBAAe;AACpB,SAAK,eAAc;AAAA,EACnB;AAAA,EACD,SAAM;AACL,SAAK,eAAc;AAAA,EACnB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,gBAAa;AACZC,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,cAAQ,QAAA;AAAA,QAChB,QAAQ;AAAA,QACR,SAAS,CAAC,MAAQ,SAAA;AACjB,cAAI,IAAI,KAAK,WAAW,IAAI,KAAK,KAAK,MAAM;AAC3C,kBAAM,OAAO,IAAI,KAAK,KAAK;AAC3B,iBAAK,qDACD,KAAK,IAAI,GACT,IAAI,GACP,EAAA,UAAU,KAAK,sBAAsB,SAAY,KAAK,oBAAoB,KAAK,WAAW,OAAO;UAEnG;AAAA,QACA;AAAA,QACD,MAAM,CAAC,QAAG;AACTD,wBAAG,MAAC,MAAM,OAAM,iCAAgC,YAAY,GAAG;AAAA,QAChE;AAAA,MACA,CAAA;AAAA,IACD;AAAA;AAAA,IAGD,kBAAe;AACdA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,cAAQ,QAAA;AAAA,QAChB,QAAQ;AAAA,QACR,SAAS,CAAC,MAAQ,SAAA;AACjB,cAAI,IAAI,KAAK,WAAW,IAAI,KAAK,KAAK,YAAY;AACjD,iBAAK,aAAa,IAAI,KAAK,KAAK;AAChC,gBAAI,KAAK,WAAW,SAAS,GAAG;AAC/B,mBAAK,cAAa;AAAA,YACnB;AAAA,UACD;AAAA,QACA;AAAA,QACD,MAAM,CAAC,QAAG;AACTD,wBAAG,MAAC,MAAM,OAAM,iCAAgC,UAAU,GAAG;AAAA,QAC9D;AAAA,MACA,CAAA;AAAA,IACD;AAAA;AAAA,IAGD,gBAAa;;AACZ,UAAI,KAAK;AAAS,eAAK;AACvB,WAAK,UAAU;AAEf,YAAM,cAAa,KAAA,KAAK,WAAW,KAAK,eAAe,OAAC,QAAA,OAAA,SAAA,OAAA,GAAE;AAC1DA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,cAAQ,QAAA;AAAA,QAChB,QAAQ;AAAA,QACR,MAAM,IAAA,cAAA;AAAA,UACL,aAAa;AAAA,UACb,MAAM,KAAK;AAAA,UACX,OAAO,KAAK;AAAA,SACZ;AAAA,QACD,SAAS,CAAC,MAAQ,SAAA;AACjB,cAAI,IAAI,KAAK,WAAW,IAAI,KAAK,KAAK,UAAU;AAC/C,kBAAM,cAAc,IAAI,KAAK,KAAK;AAClC,gBAAI,KAAK,SAAS,GAAG;AACpB,mBAAK,WAAW;AAAA,YACf,OAAK;AACN,mBAAK,WAAW,CAAC,GAAG,KAAK,UAAU,GAAG,WAAW;AAAA,YAClD;AACA,iBAAK,SAAS,YAAY,SAAS,KAAK;AAAA,UACzC;AAAA,QACA;AAAA,QACD,MAAM,CAAC,QAAG;AACTD,wBAAG,MAAC,MAAM,OAAM,iCAAgC,UAAU,GAAG;AAAA,QAC7D;AAAA,QACD,UAAU,MAAA;AACT,eAAK,UAAU;AAAA,QAChB;AAAA,MACA,CAAA;AAAA,IACD;AAAA;AAAA,IAGD,iBAAc;AACb,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,CAAC;AAAO,eAAK;AAEjBA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,cAAQ,QAAA;AAAA,QAChB,QAAQ;AAAA,QACR,QAAQ,IAAA,cAAA;AAAA,UACP,iBAAiB,UAAU,KAAK;AAAA,SAChC;AAAA,QACD,SAAS,CAAC,MAAQ,SAAA;AACjB,cAAI,IAAI,KAAK,SAAS;AACrB,iBAAK,YAAY,IAAI,KAAK,KAAK,SAAS;AAAA,UACzC;AAAA,QACD;AAAA,MACA,CAAA;AAGDD,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,cAAQ,QAAA;AAAA,QAChB,QAAQ;AAAA,QACR,QAAQ,IAAA,cAAA;AAAA,UACP,iBAAiB,UAAU,KAAK;AAAA,SAChC;AAAA,QACD,SAAS,CAAC,MAAQ,SAAA;AACjB,cAAI,IAAI,KAAK,WAAW,IAAI,KAAK,KAAK,MAAM;AAC3C,iBAAK,YAAY,IAAI,KAAK,KAAK,KAAK,gBAAgB;AAEpD,kBAAM,QAAQ,IAAI,KAAK,KAAK,KAAK,SAAS;AAC1C,iBAAK,YAAY,MAAM,IAAI,CAAC,OAAA,SAAc;AAAA,qBAAC,IAAA,cAAA;AAAA,gBAC1C,IAAI,KAAK;AAAA,gBACT,YAAY,KAAK;AAAA,gBACjB,MAAM,KAAK;AAAA,gBACX,OAAO,KAAK;AAAA,gBACZ,UAAU,KAAK;AAAA,gBACf,QAAQ,KAAK,UAAU,CAAC;AAAA,eACxB;AAAA,YAAC,CAAA;AAAA,UACH;AAAA,QACD;AAAA,MACA,CAAA;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,OAAa;AAC3B,WAAK,kBAAkB;AACvB,WAAK,OAAO;AACZ,WAAK,SAAS;AACd,WAAK,WAAW;AAChB,WAAK,cAAa;AAAA,IAClB;AAAA;AAAA,IAGD,WAAQ;AACP,UAAI,KAAK,UAAU,KAAK;AAAS,eAAK;AACtC,WAAK;AACL,WAAK,cAAa;AAAA,IAClB;AAAA;AAAA,IAGD,UAAU,UAAY,MAAA;AACrB,YAAM,QAAQD,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,CAAC,OAAO;AACXA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAC7CA,sBAAAA,MAAI,WAAW,EAAE,KAAK,qBAAsB,CAAA;AAC5C,eAAK;AAAA,MACN;AAEAA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,cAAQ,QAAA;AAAA,QAChB,QAAQ;AAAA,QACR,QAAQ,IAAA,cAAA;AAAA,UACP,iBAAiB,UAAU,KAAK;AAAA,UAChC,gBAAgB;AAAA,SAChB;AAAA,QACD,MAAM,IAAA,cAAA;AAAA,UACL,YAAY,QAAQ;AAAA,UACpB,UAAU;AAAA,SACV;AAAA,QACD,SAAS,CAAC,MAAQ,SAAA;AACjB,cAAI,IAAI,KAAK,SAAS;AACrBD,0BAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,WAAW;AAClD,iBAAK,eAAc;AAAA,UAClB,OAAK;AACNA,0BAAAA,MAAI,UAAU,EAAE,OAAO,IAAI,KAAK,WAAW,QAAQ,MAAM,OAAK,CAAG;AAAA,UAClE;AAAA,QACA;AAAA,QACD,MAAM,MAAA;AACLA,wBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAAA,QAC9C;AAAA,MACA,CAAA;AAAA,IACD;AAAA;AAAA,IAGD,WAAW,IAAU;AACpBA,oBAAG,MAAC,WAAW,EAAE,KAAK,4BAA4B,EAAE,GAAC,CAAG;AAAA,IACxD;AAAA;AAAA,IAGD,gBAAgB,UAAY,MAAA;AAC3B,UAAI,QAAQ,UAAU,QAAQ,OAAO,SAAS,GAAG;AAChD,eAAO,QAAQ,OAAO,CAAC;AAAA,MACxB;AACA,aAAO;AAAA,IACP;AAAA;AAAA,IAGD,iBAAiB,OAAS,MAAA;AACzB,UAAI,KAAK,UAAU,KAAK,OAAO,SAAS,GAAG;AAC1C,eAAO,KAAK,OAAO,CAAC;AAAA,MACrB;AACA,aAAO;AAAA,IACP;AAAA;AAAA,IAGD,kBAAe;AACd,WAAK,gBAAgB,CAAC,KAAK;AAC3B,UAAI,KAAK,eAAe;AACvB,aAAK,eAAc;AAAA,MACpB;AAAA,IACA;AAAA;AAAA,IAGD,eAAe,OAAS,MAAE,OAAa;AACtC,YAAM,SAAS,KAAK,WAAW;AAC/B,UAAI,SAAS,GAAG;AAEf,aAAK,eAAe,IAAI;AACxB,eAAK;AAAA,MACN;AAEA,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxCA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,cAAQ,QAAA,cAAc,KAAK,EAAE;AAAA,QACrC,QAAQ;AAAA,QACR,QAAQ,IAAA,cAAA;AAAA,UACP,iBAAiB,UAAU,KAAK;AAAA,UAChC,gBAAgB;AAAA,SAChB;AAAA,QACD,MAAM,IAAA,cAAA;AAAA,UACL,UAAU;AAAA,SACV;AAAA,QACD,SAAS,CAAC,MAAQ,SAAA;AACjB,cAAI,IAAI,KAAK,SAAS;AACrB,iBAAK,WAAW;AAChB,iBAAK,eAAc;AAAA,UACpB;AAAA,QACD;AAAA,MACA,CAAA;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,OAAS,MAAA;AACvB,YAAM,QAAQD,cAAAA,MAAI,eAAe,OAAO;AACxCA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,cAAQ,QAAA,cAAc,KAAK,EAAE;AAAA,QACrC,QAAQ;AAAA,QACR,QAAQ,IAAA,cAAA;AAAA,UACP,iBAAiB,UAAU,KAAK;AAAA,UAChC,gBAAgB;AAAA,SAChB;AAAA,QACD,SAAS,CAAC,MAAQ,SAAA;AACjB,cAAI,IAAI,KAAK,SAAS;AACrB,kBAAM,QAAQ,KAAK,UAAU,UAAU,CAAC,IAAM,SAAA;AAAK,qBAAA,EAAE,OAAO,KAAK;AAAA,YAAE,CAAA;AACnE,gBAAI,QAAQ,IAAI;AACf,mBAAK,UAAU,OAAO,OAAO,CAAC;AAAA,YAC/B;AACA,iBAAK,eAAc;AAEnB,gBAAI,KAAK,UAAU,WAAW,GAAG;AAChC,mBAAK,gBAAgB;AAAA,YACtB;AAAA,UACD;AAAA,QACD;AAAA,MACA,CAAA;AAAA,IACD;AAAA;AAAA,IAGD,YAAS;AACRD,0BAAI,UAAU,IAAA,cAAA;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAG;AACZ,cAAI,IAAI,SAAS;AAChB,kBAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxCA,0BAAAA,MAAI,QAAQ;AAAA,cACX,KAAK,GAAGC,cAAQ,QAAA;AAAA,cAChB,QAAQ;AAAA,cACR,QAAQ,IAAA,cAAA;AAAA,gBACP,iBAAiB,UAAU,KAAK;AAAA,eAChC;AAAA,cACD,SAAS,CAACC,OAAQ,SAAA;AACjB,oBAAIA,KAAI,KAAK,SAAS;AACrB,uBAAK,YAAY;AACjB,uBAAK,YAAY;AACjB,uBAAK,YAAY;AACjB,uBAAK,gBAAgB;AAAA,gBACtB;AAAA,cACD;AAAA,YACA,CAAA;AAAA,UACF;AAAA,QACD;AAAA,MACA,CAAA,CAAA;AAAA,IACD;AAAA;AAAA,IAGD,eAAY;AACX,WAAK,gBAAgB;AACrBF,oBAAAA,MAAI,WAAW,EAAE,KAAK,sBAAuB,CAAA;AAAA,IAC7C;AAAA;AAAA,IAGD,iBAAiB,OAAS,MAAA;AAGzB,UAAI,KAAK,QAAQ;AAChB,aAAK,SAAS,CAAC,kBAAkB;AAAA,MAClC;AAAA,IACD;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3dD,GAAG,WAAW,eAAe;"}