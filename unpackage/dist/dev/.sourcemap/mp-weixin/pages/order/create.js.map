{"version":3,"file":"create.js","sources":["pages/order/create.uvue","C:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvb3JkZXIvY3JlYXRlLnV2dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 用餐方式 -->\n\t\t\t<view class=\"section\">\n\t\t\t\t<text class=\"section-title\">用餐方式</text>\n\t\t\t\t<view class=\"type-options\">\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"type-chip\"\n\t\t\t\t\t\tv-for=\"item in typeOptions\"\n\t\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t\t:class=\"{ active: orderType === item.value }\"\n\t\t\t\t\t\t@click=\"changeOrderType(item.value)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text class=\"type-text\">{{ item.label }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t<!-- 堂食桌号（暂不启用） -->\n\t\t<!-- <view class=\"section\" v-if=\"orderType === 'dine_in'\">\n\t\t\t<text class=\"section-title\">堂食桌号</text>\n\t\t\t<input\n\t\t\t\tclass=\"table-input\"\n\t\t\t\tv-model=\"orderInfo.tableNumber\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"请输入桌号，如 A5 / 12号桌\"\n\t\t\t\tconfirm-type=\"done\"\n\t\t\t\tmaxlength=\"20\"\n\t\t\t/>\n\t\t</view> -->\n\n\t\t<!-- 配送信息（仅外卖） -->\n\t\t<view\n\t\t\tclass=\"section address-section\"\n\t\t\t@click=\"selectAddress\"\n\t\t>\n\t\t\t<view class=\"section-header-row\">\n\t\t\t\t<text class=\"section-title\">配送信息</text>\n\t\t\t\t<text class=\"arrow\">➜</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 外卖显示完整地址，自取只取联系人/电话 -->\n\t\t\t<template v-if=\"orderType === 'delivery'\">\n\t\t\t\t<view class=\"address-display\" v-if=\"orderInfo.address\">\n\t\t\t\t\t<view class=\"contact-row\">\n\t\t\t\t\t\t<text class=\"contact-name\">{{orderInfo.name}}</text>\n\t\t\t\t\t\t<text class=\"contact-phone\">{{orderInfo.phone}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"address-text\">{{orderInfo.address}}</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"address-placeholder\" v-else>\n\t\t\t\t\t<view class=\"placeholder-icon-box\">\n\t\t\t\t\t\t<image class=\"placeholder-icon\" src=\"/static/icons/icon-address.svg\" mode=\"aspectFit\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"placeholder-text\">请选择收货地址</text>\n\t\t\t\t</view>\n\t\t\t</template>\n\n\t\t\t<template v-else>\n\t\t\t\t<view class=\"address-display\" v-if=\"orderInfo.name || orderInfo.phone\">\n\t\t\t\t\t<view class=\"contact-row\">\n\t\t\t\t\t\t<text class=\"contact-name\">{{orderInfo.name}}</text>\n\t\t\t\t\t\t<text class=\"contact-phone\">{{orderInfo.phone}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"address-placeholder\" v-else>\n\t\t\t\t\t<view class=\"placeholder-icon-box\">\n\t\t\t\t\t\t<image class=\"placeholder-icon\" src=\"/static/icons/icon-address.svg\" mode=\"aspectFit\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"placeholder-text\">自取：请选择地址以填充联系人信息</text>\n\t\t\t\t</view>\n\t\t\t</template>\n\t\t</view>\n\n\t\t<!-- 商品列表 -->\n\t\t<view class=\"section\">\n\t\t\t<text class=\"section-title\">商品清单</text>\n\t\t\t<view class=\"order-items\">\n\t\t\t\t<view class=\"order-item\" v-for=\"item in cartItems\" :key=\"item.id\">\n\t\t\t\t\t<image class=\"item-image\" :src=\"getProductImage(item)\" mode=\"aspectFill\"></image>\n\t\t\t\t\t<view class=\"item-info\">\n\t\t\t\t\t\t<text class=\"item-name\">{{item.name || '商品'}}</text>\n\t\t\t\t\t\t<view class=\"item-bottom\">\n\t\t\t\t\t\t\t<text class=\"item-price\">￥{{item.price || 0}}</text>\n\t\t\t\t\t\t\t<text class=\"item-qty\">x{{item.quantity}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 备注 -->\n\t\t<view class=\"section\">\n\t\t\t<text class=\"section-title\">订单备注</text>\n\t\t\t<textarea class=\"remark-input\" v-model=\"orderInfo.remark\" placeholder=\"如需备注请输入（如：少辣、不要香菜等）\"></textarea>\n\t\t</view>\n\n\t\t<!-- 金额明细 -->\n\t\t<view class=\"section amount-section\">\n\t\t\t<view class=\"amount-row\">\n\t\t\t\t<text class=\"amount-label\">商品金额</text>\n\t\t\t\t<text class=\"amount-value\">￥{{subtotal.toFixed(2)}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"amount-row\" v-if=\"orderType === 'delivery'\">\n\t\t\t\t<text class=\"amount-label\">配送费</text>\n\t\t\t\t<text class=\"amount-value\">￥{{deliveryFee.toFixed(2)}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"amount-row hint-row\" v-if=\"orderType === 'delivery' && shopInfo.min_order_amount > 0\">\n\t\t\t\t<text class=\"hint-text\">起送金额 ¥{{shopInfo.min_order_amount}}</text>\n\t\t\t\t<text class=\"hint-status\" :class=\"subtotal >= shopInfo.min_order_amount ? 'success' : 'warning'\">\n\t\t\t\t\t{{subtotal >= shopInfo.min_order_amount ? '已满足' : '未满足'}}\n\t\t\t\t</text>\n\t\t\t</view>\n\t\t\t<view class=\"amount-row total-row\">\n\t\t\t\t<text class=\"amount-label\">合计</text>\n\t\t\t\t<text class=\"total-value\">￥{{totalAmount.toFixed(2)}}</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 底部提交栏 -->\n\t\t<view class=\"submit-bar\">\n\t\t\t<view class=\"total-box\">\n\t\t\t\t<text class=\"total-label\">待支付：</text>\n\t\t\t\t<text class=\"total-amount\">￥{{totalAmount.toFixed(2)}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"submit-btn\" @click=\"submitOrder\">\n\t\t\t\t<text class=\"submit-text\">提交订单 ✔</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"uts\">\n\timport { BASE_URL } from '@/common/config.uts'\n\t\n\ttype CartItem = {\n\t\tid: number,\n\t\tproduct_id: number,\n\t\tname: string,\n\t\tprice: number,\n\t\tquantity: number,\n\t\timages: Array<string>,\n\t\tspecs?: any,\n\t\tnotes?: string\n\t}\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcartItems: [] as Array<CartItem>,\n\t\t\t\torderInfo: {\n\t\t\t\t\tname: '',\n\t\t\t\t\tphone: '',\n\t\t\t\t\taddress: '',\n\t\t\t\t\tremark: '',\n\t\t\t\t\ttableNumber: ''\n\t\t\t\t},\n\t\t\t\torderType: 'delivery',\n\t\t\t\ttypeOptions: [\n\t\t\t\t\t{ value: 'delivery', label: '外卖' },\n\t\t\t\t\t{ value: 'pickup', label: '自取' }\n\t\t\t\t],\n\t\t\t\tshopInfo: {\n\t\t\t\t\tdelivery_fee: 0,\n\t\t\t\t\tmin_order_amount: 0\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tsubtotal(): number {\n\t\t\t\treturn this.cartItems.reduce((sum: number, item: CartItem) => sum + (item.price || 0) * item.quantity, 0)\n\t\t\t},\n\t\t\tdeliveryFee(): number {\n\t\t\t\treturn this.orderType === 'delivery' ? (this.shopInfo.delivery_fee || 0) : 0\n\t\t\t},\n\t\t\ttotalAmount(): number {\n\t\t\t\treturn this.subtotal + this.deliveryFee\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.fetchCart()\n\t\t\tthis.fetchDefaultAddress()\n\t\t\tthis.fetchShopInfo()\n\t\t\tthis.fillContactFromStorage()\n\t\t},\n\t\tmethods: {\n\t\t\tfetchShopInfo() {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${BASE_URL}/shop/info`,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tsuccess: (res: any) => {\n\t\t\t\t\t\tif (res.data.success && res.data.data) {\n\t\t\t\t\t\t\tthis.shopInfo = res.data.data\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tfillContactFromStorage() {\n\t\t\t\tconst user = uni.getStorageSync('userInfo')\n\t\t\t\tif (user) {\n\t\t\t\t\tif (!this.orderInfo.name) this.orderInfo.name = user.nickname || user.username || ''\n\t\t\t\t\tif (!this.orderInfo.phone && user.phone) this.orderInfo.phone = user.phone\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tchangeOrderType(type: string) {\n\t\t\t\tthis.orderType = type\n\t\t\t},\n\n\t\t\tgetOrderTypeLabel(type: string) {\n\t\t\t\tconst found = this.typeOptions.find((item: any) => item.value === type)\n\t\t\t\treturn found ? found.label : '外卖'\n\t\t\t},\n\n\t\t\tselectAddress() {\n\t\t\t\tuni.navigateTo({ url: '/pages/address/list?select=true' })\n\t\t\t},\n\t\t\t\n\t\t\tsetAddress(address: any) {\n\t\t\t\tthis.orderInfo.name = address.contact_name || address.name\n\t\t\t\tthis.orderInfo.phone = address.contact_phone || address.phone\n\t\t\t\tthis.orderInfo.address = address.address || address.detail || ''\n\t\t\t},\n\t\t\t\n\t\t\tfetchDefaultAddress() {\n\t\t\t\tconst token = uni.getStorageSync('token')\n\t\t\t\tif (!token) return\n\t\t\t\t\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${BASE_URL}/addresses/default`,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theader: { 'Authorization': `Bearer ${token}` },\n\t\t\t\t\tsuccess: (res: any) => {\n\t\t\t\t\t\tif (res.data.success && res.data.data.address) {\n\t\t\t\t\t\t\tthis.setAddress(res.data.data.address)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\n\t\t\tgetProductImage(item: CartItem): string {\n\t\t\t\tif (item.images && item.images.length > 0) {\n\t\t\t\t\treturn item.images[0]\n\t\t\t\t}\n\t\t\t\treturn DEFAULT_FOOD_IMAGE\n\t\t\t},\n\t\t\t\n\t\t\tfetchCart() {\n\t\t\t\tconst token = uni.getStorageSync('token')\n\t\t\t\tif (!token) {\n\t\t\t\t\tuni.navigateTo({ url: '/pages/login/login' })\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${BASE_URL}/cart`,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theader: { 'Authorization': `Bearer ${token}` },\n\t\t\t\t\tsuccess: (res: any) => {\n\t\t\t\t\t\tif (res.data.success && res.data.data.cart) {\n\t\t\t\t\t\t\tconst items = res.data.data.cart.items || []\n\t\t\t\t\t\t\tthis.cartItems = items.map((item: any) => ({\n\t\t\t\t\t\t\t\tid: item.cart_item_id,\n\t\t\t\t\t\t\t\tproduct_id: item.product_id,\n\t\t\t\t\t\t\t\tname: item.name,\n\t\t\t\t\t\t\t\tprice: item.price,\n\t\t\t\t\t\t\t\tquantity: item.quantity,\n\t\t\t\t\t\t\t\timages: item.images || [],\n\t\t\t\t\t\t\t\tspecs: item.specs || item.options || undefined,\n\t\t\t\t\t\t\t\tnotes: item.notes || ''\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tasync submitOrder() {\n\t\t\t\tif (this.orderType === 'delivery') {\n\t\t\t\t\tif (!this.orderInfo.name || !this.orderInfo.phone || !this.orderInfo.address) {\n\t\t\t\t\t\tuni.showToast({ title: '请先选择收货地址', icon: 'none' })\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t// 检查起送金额\n\t\t\t\t\tconst minAmount = this.shopInfo.min_order_amount || 0\n\t\t\t\t\tif (minAmount > 0 && this.subtotal < minAmount) {\n\t\t\t\t\t\tuni.showToast({ title: `商品金额不满足起送金额 ¥${minAmount}`, icon: 'none' })\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.orderType === 'pickup') {\n\t\t\t\t\tif (!this.orderInfo.name || !this.orderInfo.phone) {\n\t\t\t\t\t\tuni.showToast({ title: '请先选择地址或登录补全联系人', icon: 'none' })\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.cartItems.length === 0) {\n\t\t\t\t\tuni.showToast({ title: '购物车为空', icon: 'none' })\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst token = uni.getStorageSync('token')\n\t\t\t\tuni.showLoading({ title: '提交中...' })\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst payload: any = {\n\t\t\t\t\t\torder_type: this.orderType,\n\t\t\t\t\t\tnotes: this.orderInfo.remark,\n\t\t\t\t\t\titems: this.cartItems.map((item: CartItem) => {\n\t\t\t\t\t\t\tconst mapped: any = {\n\t\t\t\t\t\t\t\tproduct_id: item.product_id,\n\t\t\t\t\t\t\t\tquantity: item.quantity\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (item.specs) mapped.specs = item.specs\n\t\t\t\t\t\t\tif (item.notes) mapped.notes = item.notes\n\t\t\t\t\t\t\treturn mapped\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcart_item_ids: this.cartItems.map((item: CartItem) => item.id)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.orderType === 'delivery') {\n\t\t\t\t\t\tpayload.delivery_address = this.orderInfo.address\n\t\t\t\t\t\tpayload.contact_name = this.orderInfo.name\n\t\t\t\t\t\tpayload.contact_phone = this.orderInfo.phone\n\t\t\t\t\t} else if (this.orderType === 'pickup') {\n\t\t\t\t\t\tpayload.contact_name = this.orderInfo.name\n\t\t\t\t\t\tpayload.contact_phone = this.orderInfo.phone\n\t\t\t\t\t}\n\n\t\t\t\t\tconst createRes: any = await new Promise((resolve, reject) => {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: `${BASE_URL}/orders`,\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'Authorization': `Bearer ${token}`,\n\t\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: payload,\n\t\t\t\t\t\t\tsuccess: resolve,\n\t\t\t\t\t\t\tfail: reject\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\n\t\t\t\t\tif (!createRes.data?.success) {\n\t\t\t\t\t\tuni.showToast({ title: createRes.data?.message || '下单失败', icon: 'none' })\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tconst orderId = createRes.data?.data?.order?.id || createRes.data?.data?.id || createRes.data?.data?.order_id\n\t\t\t\t\tif (!orderId) {\n\t\t\t\t\t\tuni.showToast({ title: '下单成功，但未获取订单ID', icon: 'none' })\n\t\t\t\t\t\tuni.switchTab({ url: '/pages/order/list' })\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tconst payRes: any = await new Promise((resolve, reject) => {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: `${BASE_URL}/orders/${orderId}/pay`,\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theader: { 'Authorization': `Bearer ${token}` },\n\t\t\t\t\t\t\tsuccess: resolve,\n\t\t\t\t\t\t\tfail: reject\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\n\t\t\t\t\tif (payRes.data?.success) {\n\t\t\t\t\t\tuni.showToast({ title: '支付成功', icon: 'success' })\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// 详情 -> 用户返回时直接回到首页\n\t\t\t\t\t\t\tuni.redirectTo({ url: `/pages/order/detail?id=${orderId}` })\n\t\t\t\t\t\t}, 800)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({ title: payRes.data?.message || '支付失败', icon: 'none' })\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tuni.showToast({ title: '网络错误', icon: 'none' })\n\t\t\t\t} finally {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100vh;\n\t\tbackground-color: #FFF5F8;\n\t\tbackground-image: radial-gradient(circle at 10% 20%, rgba(255, 182, 193, 0.4) 0%, transparent 20%),\n\t\t\t\t\t  radial-gradient(circle at 90% 80%, rgba(255, 218, 224, 0.4) 0%, transparent 20%);\n\t\tpadding-bottom: 180rpx;\n\t}\n\n\t.section {\n\t\tbackground-color: rgba(255, 255, 255, 0.9);\n\t\tmargin: 24rpx;\n\t\tpadding: 36rpx;\n\t\tborder-radius: 40rpx;\n\t\tbox-shadow: 0 8rpx 24rpx rgba(255, 105, 180, 0.1);\n\t\tbackdrop-filter: blur(10px);\n\t}\n\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 800;\n\t\tcolor: #5D4E6D;\n\t\tborder-left: 8rpx solid #FF69B4;\n\t\tpadding-left: 20rpx;\n\t}\n\t\n\t.section-header-row {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 24rpx;\n\t}\n\t\n\t.arrow {\n\t\tfont-size: 40rpx;\n\t\tcolor: #B8A9C9;\n\t\tfont-weight: 300;\n\t}\n\n\t/* 用餐方式 */\n\t.type-options {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tmargin-top: 24rpx;\n\t\tgap: 16rpx;\n\t}\n\n\t.type-chip {\n\t\tpadding: 20rpx 28rpx;\n\t\tborder-radius: 30rpx;\n\t\tbackground-color: rgba(255, 255, 255, 0.8);\n\t\tborder: 2rpx solid #FFB6C1;\n\t\tbox-shadow: 0 6rpx 16rpx rgba(255, 105, 180, 0.1);\n\t\ttransition: all 0.2s;\n\t}\n\n\t.type-chip.active {\n\t\tbackground: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%);\n\t\tcolor: #fff;\n\t\tborder-color: transparent;\n\t\tbox-shadow: 0 8rpx 20rpx rgba(255, 105, 180, 0.3);\n\t}\n\n\t.type-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 700;\n\t\tcolor: inherit;\n\t}\n\n\t/* 联系信息 */\n\t.table-input {\n\t\tmargin-top: 20rpx;\n\t\twidth: 70%;\n\t\tmin-width: 400rpx;\n\t\tpadding: 20rpx 24rpx;\n\t\tbackground-color: rgba(255, 255, 255, 0.8);\n\t\tborder: 2rpx solid #FFB6C1;\n\t\tborder-radius: 24rpx;\n\t\tbox-shadow: 0 6rpx 16rpx rgba(255, 105, 180, 0.08);\n\t\tfont-size: 30rpx;\n\t\tcolor: #5D4E6D;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* 配送信息 */\n\t.address-display {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding: 10rpx 0;\n\t}\n\t\n\t.contact-row {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: baseline;\n\t\tmargin-bottom: 12rpx;\n\t}\n\t\n\t.contact-name {\n\t\tfont-size: 34rpx;\n\t\tfont-weight: 800;\n\t\tcolor: #5D4E6D;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.contact-phone {\n\t\tfont-size: 28rpx;\n\t\tcolor: #888;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.address-text {\n\t\tfont-size: 30rpx;\n\t\tcolor: #666;\n\t\tline-height: 1.5;\n\t}\n\t\n\t.address-placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tpadding: 20rpx 0;\n\t}\n\t\n\t.placeholder-icon-box {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tbackground-color: #FFF0F5;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.placeholder-icon {\n\t\twidth: 32rpx;\n\t\theight: 32rpx;\n\t}\n\t\n\t.placeholder-text {\n\t\tfont-size: 30rpx;\n\t\tcolor: #B8A9C9;\n\t\tfont-weight: 500;\n\t}\n\n\t/* 商品清单 */\n\t.order-items {\n\t\tpadding: 0;\n\t}\n\n\t.order-item {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tpadding: 20rpx 0;\n\t\tborder-bottom: 1px solid rgba(255, 228, 236, 0.6);\n\t}\n\n\t.order-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.item-image {\n\t\twidth: 140rpx;\n\t\theight: 140rpx;\n\t\tborder-radius: 24rpx;\n\t\tborder: 4rpx solid #FFF0F5;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);\n\t}\n\n\t.item-info {\n\t\tflex: 1;\n\t\tmargin-left: 24rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\theight: 140rpx;\n\t}\n\n\t.item-name {\n\t\tfont-size: 30rpx;\n\t\tcolor: #5D4E6D;\n\t\tfont-weight: 700;\n\t}\n\n\t.item-bottom {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.item-price {\n\t\tfont-size: 32rpx;\n\t\tcolor: #FF69B4;\n\t\tfont-weight: 800;\n\t}\n\n\t.item-qty {\n\t\tfont-size: 28rpx;\n\t\tcolor: #B8A9C9;\n\t\tfont-weight: 500;\n\t}\n\n\t/* 备注 */\n\t.remark-input {\n\t\twidth: 100%;\n\t\theight: 180rpx;\n\t\tbackground-color: #FFF5F8;\n\t\tborder-radius: 24rpx;\n\t\tpadding: 24rpx;\n\t\tfont-size: 30rpx;\n\t\tbox-sizing: border-box;\n\t\tcolor: #5D4E6D;\n\t\tborder: 2px solid #FFE4EC;\n\t}\n\n\t/* 金额明细 */\n\t.amount-section {\n\t\tpadding: 30rpx 36rpx;\n\t}\n\n\t.amount-row {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t\tpadding: 16rpx 0;\n\t}\n\n\t.amount-label {\n\t\tfont-size: 30rpx;\n\t\tcolor: #B8A9C9;\n\t}\n\n\t.amount-value {\n\t\tfont-size: 30rpx;\n\t\tcolor: #5D4E6D;\n\t\tfont-weight: 500;\n\t}\n\n\t.hint-row {\n\t\tbackground-color: #FFF8F0;\n\t\tmargin: 10rpx -20rpx;\n\t\tpadding: 12rpx 20rpx;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.hint-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #B8A9C9;\n\t}\n\n\t.hint-status {\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 600;\n\t}\n\n\t.hint-status.success {\n\t\tcolor: #52c41a;\n\t}\n\n\t.hint-status.warning {\n\t\tcolor: #faad14;\n\t}\n\n\t.total-row {\n\t\tmargin-top: 20rpx;\n\t\tpadding-top: 24rpx;\n\t\tborder-top: 2px dashed #FFE4EC;\n\t}\n\n\t.total-value {\n\t\tfont-size: 40rpx;\n\t\tfont-weight: 900;\n\t\tcolor: #FF69B4;\n\t}\n\n\t/* 底部提交栏 */\n\t.submit-bar {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 24rpx 36rpx;\n\t\tmargin: 24rpx;\n\t\tbackground-color: rgba(255, 255, 255, 0.95);\n\t\tborder-radius: 40rpx;\n\t\tbox-shadow: 0 -4rpx 30rpx rgba(255, 105, 180, 0.2);\n\t\tz-index: 100;\n\t\tbackdrop-filter: blur(10px);\n\t\tborder: 1px solid rgba(255, 255, 255, 0.5);\n\t}\n\n\t.total-box {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: baseline;\n\t}\n\n\t.total-label {\n\t\tfont-size: 30rpx;\n\t\tcolor: #5D4E6D;\n\t}\n\n\t.total-amount {\n\t\tfont-size: 44rpx;\n\t\tfont-weight: 900;\n\t\tcolor: #FF69B4;\n\t\tmargin-left: 10rpx;\n\t}\n\n\t.submit-btn {\n\t\tpadding: 28rpx 64rpx;\n\t\tbackground: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%);\n\t\tborder-radius: 40rpx;\n\t\tbox-shadow: 0 8rpx 24rpx rgba(255, 105, 180, 0.4);\n\t\ttransition: transform 0.2s;\n\t}\n\t\n\t.submit-btn:active {\n\t\ttransform: scale(0.95);\n\t}\n\n\t.submit-text {\n\t\tfont-size: 32rpx;\n\t\tcolor: #fff;\n\t\tfont-weight: 800;\n\t\tletter-spacing: 1px;\n\t}\n</style>\n\n","import MiniProgramPage from 'D:/order/fontend/pages/order/create.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","BASE_URL"],"mappings":"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"}