{"version":3,"file":"my.js","sources":["pages/my/my.uvue","C:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvbXkudXZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 用户信息头部 -->\n\t\t<view class=\"user-header\" :class=\"isLoggedIn ? 'logged-in' : ''\">\n\t\t\t<view class=\"user-avatar\">\n\t\t\t\t<image class=\"avatar-img\" :src=\"userInfo.avatar || defaultAvatarImage\" mode=\"aspectFill\"></image>\n\t\t\t</view>\n\t\t\t<view class=\"user-info\" v-if=\"isLoggedIn\">\n\t\t\t\t<text class=\"nickname\">{{ displayName }}</text>\n\t\t\t\t<text class=\"phone\" v-if=\"userInfo.phone\">{{userInfo.phone}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"login-prompt\" v-else @click=\"goLogin\">\n\t\t\t\t<text class=\"login-text\">点击登录</text>\n\t\t\t\t<text class=\"login-arrow\">➜</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 功能菜单 -->\n\t\t<view class=\"section menu-section\">\n\t\t\t<view class=\"menu-item\" @click=\"goAddress\">\n\t\t\t\t<image class=\"menu-icon\" src=\"/static/icons/icon-address.svg\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"menu-text\">收货地址</text>\n\t\t\t\t<text class=\"menu-arrow\">➜</text>\n\t\t\t</view>\n\t\t\t<view class=\"menu-item\" @click=\"goSettings\">\n\t\t\t\t<image class=\"menu-icon\" src=\"/static/icons/icon-settings.svg\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"menu-text\">设置</text>\n\t\t\t\t<text class=\"menu-arrow\">➜</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 退出登录 -->\n\t\t<view class=\"logout-btn\" v-if=\"isLoggedIn\" @click=\"handleLogout\">\n\t\t\t<text class=\"logout-text\">退出登录</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"uts\">\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisLoggedIn: false,\n\t\t\t\tdefaultAvatarImage: '/static/icons/default-avatar.png',\n\t\t\t\tuserInfo: {\n\t\t\t\t\tusername: '',\n\t\t\t\t\tnickname: '',\n\t\t\t\t\tphone: '',\n\t\t\t\t\tavatar: ''\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tdisplayName() {\n\t\t\t\tconst info = this.userInfo || {}\n\t\t\t\tif (info.nickname) return info.nickname\n\t\t\t\treturn '用户'\n\t\t\t}\n\t\t},\n\t\tonShow() {\n\t\t\tthis.checkLoginStatus()\n\t\t},\n\t\tmethods: {\n\t\t\tcheckLoginStatus() {\n\t\t\t\tconst token = uni.getStorageSync('token')\n\t\t\t\tconst userInfo = uni.getStorageSync('userInfo')\n\t\t\t\tthis.isLoggedIn = !!token\n\t\t\t\tif (userInfo) {\n\t\t\t\t\tthis.userInfo = userInfo\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tgoLogin() {\n\t\t\t\tuni.navigateTo({ url: '/pages/login/login' })\n\t\t\t},\n\t\t\t\n\t\t\tgoOrderList(status?: string) {\n\t\t\t\tif (!this.isLoggedIn) {\n\t\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' })\n\t\t\t\t\tthis.goLogin()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (status) {\n\t\t\t\t\tuni.setStorageSync('orderStatus', status)\n\t\t\t\t}\n\t\t\t\tuni.switchTab({ url: '/pages/order/list' })\n\t\t\t},\n\t\t\t\n\t\t\tgoAddress() {\n\t\t\t\tif (!this.isLoggedIn) {\n\t\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' })\n\t\t\t\t\tthis.goLogin()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({ url: '/pages/address/list' })\n\t\t\t},\n\t\t\t\n\t\t\tgoSettings() {\n\t\t\t\tuni.navigateTo({ url: '/pages/settings/settings' })\n\t\t\t},\n\t\t\t\n\t\t\thandleLogout() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '确定要退出登录吗？',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tuni.removeStorageSync('token')\n\t\t\t\t\t\t\tuni.removeStorageSync('userInfo')\n\t\t\t\t\t\t\tthis.isLoggedIn = false\n\t\t\t\t\t\t\tthis.userInfo = { username: '', phone: '' }\n\t\t\t\t\t\t\tuni.showToast({ title: '已退出登录', icon: 'success' })\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #FFF5F8;\n\t\tbackground-image: radial-gradient(circle at 10% 20%, rgba(255, 182, 193, 0.4) 0%, transparent 20%),\n\t\t\t\t\t  radial-gradient(circle at 90% 80%, rgba(255, 218, 224, 0.4) 0%, transparent 20%);\n\t}\n\n\t/* 用户头部 */\n\t.user-header {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tpadding: 80rpx 40rpx 60rpx;\n\t\tbackground: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 99%, #FECFEF 100%);\n\t\tbox-shadow: 0 10rpx 30rpx rgba(255, 105, 180, 0.2);\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\t\n\t.user-header::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: -50%;\n\t\tright: -20%;\n\t\twidth: 150%;\n\t\theight: 150%;\n\t\tbackground: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 60%);\n\t\ttransform: rotate(-15deg);\n\t}\n\n\t.user-avatar {\n\t\twidth: 140rpx;\n\t\theight: 140rpx;\n\t\tborder-radius: 50%;\n\t\tborder: 6rpx solid rgba(255, 255, 255, 0.6);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbox-shadow: 0 8rpx 24rpx rgba(255, 105, 180, 0.3);\n\t\tz-index: 1;\n\t\toverflow: hidden;\n\t}\n\n\t.avatar-img {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 50%;\n\t}\n\n\t.avatar-icon {\n\t\twidth: 90rpx;\n\t\theight: 90rpx;\n\t}\n\n\t.avatar-text {\n\t\tfont-size: 56rpx;\n\t\tcolor: #FF69B4;\n\t\tfont-weight: 900;\n\t}\n\n\t.user-info {\n\t\tmargin-left: 30rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tz-index: 1;\n\t}\n\n\t.username {\n\t\tfont-size: 40rpx;\n\t\tcolor: #FFFFFF;\n\t\tfont-weight: 800;\n\t\tletter-spacing: 1px;\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0,0,0,0.1);\n\t}\n\n\t.nickname {\n\t\tfont-size: 40rpx;\n\t\tcolor: #FFFFFF;\n\t\tfont-weight: 800;\n\t\tletter-spacing: 1px;\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0,0,0,0.1);\n\t}\n\n\t.phone {\n\t\tfont-size: 28rpx;\n\t\tcolor: rgba(255, 255, 255, 0.9);\n\t\tmargin-top: 10rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.login-prompt {\n\t\tflex: 1;\n\t\tmargin-left: 30rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tz-index: 1;\n\t}\n\n\t.login-text {\n\t\tfont-size: 36rpx;\n\t\tcolor: #FFFFFF;\n\t\tfont-weight: 800;\n\t\tletter-spacing: 1px;\n\t}\n\n\t.login-arrow {\n\t\tfont-size: 44rpx;\n\t\tcolor: rgba(255, 255, 255, 0.9);\n\t\tmargin-left: 16rpx;\n\t}\n\n\t/* 订单区域 */\n\t.section {\n\t\tmargin: 30rpx 24rpx;\n\t\tbackground-color: rgba(255, 255, 255, 0.9);\n\t\tborder-radius: 40rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 8rpx 24rpx rgba(255, 105, 180, 0.1);\n\t\tbackdrop-filter: blur(10px);\n\t}\n\n\t.section-header {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 30rpx 36rpx;\n\t\tborder-bottom: 1px solid rgba(255, 228, 236, 0.6);\n\t\tbackground-color: rgba(255, 240, 245, 0.5);\n\t}\n\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tcolor: #5D4E6D;\n\t\tfont-weight: 800;\n\t}\n\n\t.view-all {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\topacity: 0.8;\n\t}\n\n\t.view-all-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #B8A9C9;\n\t}\n\n\t.arrow {\n\t\tfont-size: 30rpx;\n\t\tcolor: #B8A9C9;\n\t\tmargin-left: 8rpx;\n\t}\n\n\t.order-status-list {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tpadding: 40rpx 0;\n\t}\n\n\t.order-status-item {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tposition: relative;\n\t}\n\t\n\t.order-status-item:active {\n\t\topacity: 0.7;\n\t}\n\n\t.status-icon {\n\t\twidth: 64rpx;\n\t\theight: 64rpx;\n\t\tmargin-bottom: 16rpx;\n\t\tfilter: drop-shadow(0 4rpx 8rpx rgba(255, 105, 180, 0.2));\n\t}\n\n\t.status-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #5D4E6D;\n\t\tfont-weight: 500;\n\t}\n\n\t/* 菜单区域 */\n\t.menu-item {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tpadding: 36rpx 40rpx;\n\t\tborder-bottom: 1px solid rgba(255, 228, 236, 0.6);\n\t\ttransition: background-color 0.2s;\n\t}\n\n\t.menu-item:active {\n\t\tbackground-color: #FFF0F5;\n\t}\n\n\t.menu-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.menu-icon {\n\t\twidth: 52rpx;\n\t\theight: 52rpx;\n\t\tmargin-right: 24rpx;\n\t}\n\n\t.menu-text {\n\t\tflex: 1;\n\t\tfont-size: 30rpx;\n\t\tcolor: #5D4E6D;\n\t\tfont-weight: 500;\n\t}\n\n\t.menu-arrow {\n\t\tfont-size: 34rpx;\n\t\tcolor: #B8A9C9;\n\t}\n\n\t/* 退出登录 */\n\t.logout-btn {\n\t\tmargin: 60rpx 40rpx;\n\t\tpadding: 30rpx;\n\t\tbackground-color: #FFFFFF;\n\t\tborder: 2px solid #FFB6C1;\n\t\tborder-radius: 40rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbox-shadow: 0 6rpx 20rpx rgba(255, 105, 180, 0.15);\n\t\ttransition: transform 0.2s;\n\t}\n\t\n\t.logout-btn:active {\n\t\ttransform: scale(0.98);\n\t\tbackground-color: #FFF0F5;\n\t}\n\n\t.logout-text {\n\t\tfont-size: 32rpx;\n\t\tcolor: #FF69B4;\n\t\tfont-weight: 800;\n\t\tletter-spacing: 1px;\n\t}\n</style>\n","import MiniProgramPage from 'D:/order/fontend/pages/my/my.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;;AAwCC,MAAA,YAAeA,8BAAA;AAAA,EACd,OAAI;AACH,WAAO;AAAA,MACN,YAAY;AAAA,MACZ,oBAAoB;AAAA,MACpB,UAAU,IAAA,cAAA;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,OACT;AAAA;EAED;AAAA,EACD,UAAU;AAAA,IACT,cAAW;AACV,YAAM,OAAO,KAAK,YAAY;AAC9B,UAAI,KAAK;AAAU,eAAO,KAAK;AAC/B,aAAO;AAAA,IACR;AAAA,EACA;AAAA,EACD,SAAM;AACL,SAAK,iBAAgB;AAAA,EACrB;AAAA,EACD,SAAS;AAAA,IACR,mBAAgB;AACf,YAAM,QAAQC,cAAAA,MAAI,eAAe,OAAO;AACxC,YAAM,WAAWA,cAAAA,MAAI,eAAe,UAAU;AAC9C,WAAK,aAAa,CAAC,CAAC;AACpB,UAAI,UAAU;AACb,aAAK,WAAW;AAAA,MACjB;AAAA,IACA;AAAA,IAED,UAAO;AACNA,oBAAAA,MAAI,WAAW,EAAE,KAAK,qBAAsB,CAAA;AAAA,IAC5C;AAAA,IAED,YAAY,SAAe,MAAA;AAC1B,UAAI,CAAC,KAAK,YAAY;AACrBA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAC7C,aAAK,QAAO;AACZ,eAAK;AAAA,MACN;AACA,UAAI,QAAQ;AACXA,sBAAAA,MAAI,eAAe,eAAe,MAAM;AAAA,MACzC;AACAA,oBAAAA,MAAI,UAAU,EAAE,KAAK,oBAAqB,CAAA;AAAA,IAC1C;AAAA,IAED,YAAS;AACR,UAAI,CAAC,KAAK,YAAY;AACrBA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAC7C,aAAK,QAAO;AACZ,eAAK;AAAA,MACN;AACAA,oBAAAA,MAAI,WAAW,EAAE,KAAK,sBAAuB,CAAA;AAAA,IAC7C;AAAA,IAED,aAAU;AACTA,oBAAAA,MAAI,WAAW,EAAE,KAAK,2BAA4B,CAAA;AAAA,IAClD;AAAA,IAED,eAAY;AACXA,0BAAI,UAAU,IAAA,cAAA;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAG;AACZ,cAAI,IAAI,SAAS;AAChBA,gCAAI,kBAAkB,OAAO;AAC7BA,gCAAI,kBAAkB,UAAU;AAChC,iBAAK,aAAa;AAClB,iBAAK,WAAW,EAAE,UAAU,IAAI,OAAO;AACvCA,0BAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,WAAW;AAAA,UAClD;AAAA,QACD;AAAA,MACA,CAAA,CAAA;AAAA,IACF;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHD,GAAG,WAAW,eAAe;"}