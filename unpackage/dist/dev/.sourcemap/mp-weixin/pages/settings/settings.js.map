{"version":3,"file":"settings.js","sources":["pages/settings/settings.uvue","C:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2V0dGluZ3Mvc2V0dGluZ3MudXZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 账号安全 -->\r\n\t\t<view class=\"section\">\r\n\t\t\t<view class=\"section-header\">\r\n\t\t\t\t<text class=\"section-title\">账号安全</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\" @click=\"goChangePassword\">\r\n\t\t\t\t<image class=\"menu-icon\" src=\"/static/icons/icon-password.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"menu-text\">修改密码</text>\r\n\t\t\t\t<text class=\"menu-arrow\">➜</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\" @click=\"goEditProfile\">\r\n\t\t\t\t<image class=\"menu-icon\" src=\"/static/icons/icon-profile.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"menu-text\">个人资料</text>\r\n\t\t\t\t<text class=\"menu-arrow\">➜</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 关于 -->\r\n\t\t<view class=\"section\">\r\n\t\t\t<view class=\"section-header\">\r\n\t\t\t\t<text class=\"section-title\">关于</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\" @click=\"goAgreement\">\r\n\t\t\t\t<image class=\"menu-icon\" src=\"/static/icons/icon-agreement.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"menu-text\">用户协议</text>\r\n\t\t\t\t<text class=\"menu-arrow\">➜</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\" @click=\"goPrivacy\">\r\n\t\t\t\t<image class=\"menu-icon\" src=\"/static/icons/icon-privacy.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"menu-text\">隐私政策</text>\r\n\t\t\t\t<text class=\"menu-arrow\">➜</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\">\r\n\t\t\t\t<image class=\"menu-icon\" src=\"/static/icons/icon-version.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"menu-text\">当前版本</text>\r\n\t\t\t\t<text class=\"menu-value\">v1.0.0</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 清除缓存 -->\r\n\t\t<view class=\"section\">\r\n\t\t\t<view class=\"menu-item\" @click=\"clearCache\">\r\n\t\t\t\t<image class=\"menu-icon\" src=\"/static/icons/icon-clear.svg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text class=\"menu-text\">清除缓存</text>\r\n\t\t\t\t<text class=\"menu-value\">{{cacheSize}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcacheSize: '0KB'\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getCacheSize()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetCacheSize() {\r\n\t\t\t\t// 获取缓存大小（模拟）\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst info = uni.getStorageInfoSync()\r\n\t\t\t\t\tif (info && info.currentSize) {\r\n\t\t\t\t\t\tconst size = info.currentSize\r\n\t\t\t\t\t\tif (size < 1024) {\r\n\t\t\t\t\t\t\tthis.cacheSize = size + 'KB'\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.cacheSize = (size / 1024).toFixed(2) + 'MB'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthis.cacheSize = '0KB'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgoChangePassword() {\r\n\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\tif (!token) {\r\n\t\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' })\r\n\t\t\t\t\tuni.navigateTo({ url: '/pages/login/login' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({ url: '/pages/settings/password' })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgoEditProfile() {\r\n\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\tif (!token) {\r\n\t\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' })\r\n\t\t\t\t\tuni.navigateTo({ url: '/pages/login/login' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({ url: '/pages/settings/profile' })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgoAgreement() {\r\n\t\t\t\tuni.navigateTo({ url: '/pages/legal/agreement' })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgoPrivacy() {\r\n\t\t\t\tuni.navigateTo({ url: '/pages/legal/privacy' })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tclearCache() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要清除缓存吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t// 保留登录信息\r\n\t\t\t\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\t\t\t\tconst userInfo = uni.getStorageSync('userInfo')\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.clearStorageSync()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 恢复登录信息\r\n\t\t\t\t\t\t\tif (token) uni.setStorageSync('token', token)\r\n\t\t\t\t\t\t\tif (userInfo) uni.setStorageSync('userInfo', userInfo)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.cacheSize = '0KB'\r\n\t\t\t\t\t\t\tuni.showToast({ title: '缓存已清除', icon: 'success' })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #FFF5F8;\r\n\t\tbackground-image: radial-gradient(circle at 10% 20%, rgba(255, 182, 193, 0.4) 0%, transparent 20%),\r\n\t\t\t\t\t\t  radial-gradient(circle at 90% 80%, rgba(255, 218, 224, 0.4) 0%, transparent 20%);\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\r\n\t.section {\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 40rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 8rpx 24rpx rgba(255, 105, 180, 0.1);\r\n\t\tbackdrop-filter: blur(10px);\r\n\t}\r\n\r\n\t.section-header {\r\n\t\tpadding: 30rpx 36rpx;\r\n\t\tborder-bottom: 1px solid rgba(255, 228, 236, 0.6);\r\n\t\tbackground-color: rgba(255, 240, 245, 0.5);\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #B8A9C9;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.menu-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tpadding: 36rpx 40rpx;\r\n\t\tborder-bottom: 1px solid rgba(255, 228, 236, 0.6);\r\n\t\ttransition: background-color 0.2s;\r\n\t}\r\n\r\n\t.menu-item:active {\r\n\t\tbackground-color: #FFF0F5;\r\n\t}\r\n\r\n\t.menu-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\r\n\t.menu-icon {\r\n\t\twidth: 48rpx;\r\n\t\theight: 48rpx;\r\n\t\tmargin-right: 24rpx;\r\n\t}\r\n\r\n\t.menu-text {\r\n\t\tflex: 1;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #5D4E6D;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.menu-arrow {\r\n\t\tfont-size: 34rpx;\r\n\t\tcolor: #B8A9C9;\r\n\t}\r\n\r\n\t.menu-value {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #B8A9C9;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/order/fontend/pages/settings/settings.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;;AAqDC,MAAA,YAAeA,8BAAA;AAAA,EACd,OAAI;AACH,WAAO;AAAA,MACN,WAAW;AAAA;EAEZ;AAAA,EACD,SAAM;AACL,SAAK,aAAY;AAAA,EACjB;AAAA,EACD,SAAS;AAAA,IACR,eAAY;AAEX,UAAI;AACH,cAAM,OAAOC,oBAAI;AACjB,YAAI,QAAQ,KAAK,aAAa;AAC7B,gBAAM,OAAO,KAAK;AAClB,cAAI,OAAO,MAAM;AAChB,iBAAK,YAAY,OAAO;AAAA,UACvB,OAAK;AACN,iBAAK,aAAa,OAAO,MAAM,QAAQ,CAAC,IAAI;AAAA,UAC7C;AAAA,QACD;AAAA,MACD,SAAS,GAAG;AACX,aAAK,YAAY;AAAA,MAClB;AAAA,IACA;AAAA,IAED,mBAAgB;AACf,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,CAAC,OAAO;AACXA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAC7CA,sBAAAA,MAAI,WAAW,EAAE,KAAK,qBAAsB,CAAA;AAC5C,eAAK;AAAA,MACN;AACAA,oBAAAA,MAAI,WAAW,EAAE,KAAK,2BAA4B,CAAA;AAAA,IAClD;AAAA,IAED,gBAAa;AACZ,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,CAAC,OAAO;AACXA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAC7CA,sBAAAA,MAAI,WAAW,EAAE,KAAK,qBAAsB,CAAA;AAC5C,eAAK;AAAA,MACN;AACAA,oBAAAA,MAAI,WAAW,EAAE,KAAK,0BAA2B,CAAA;AAAA,IACjD;AAAA,IAED,cAAW;AACVA,oBAAAA,MAAI,WAAW,EAAE,KAAK,yBAA0B,CAAA;AAAA,IAChD;AAAA,IAED,YAAS;AACRA,oBAAAA,MAAI,WAAW,EAAE,KAAK,uBAAwB,CAAA;AAAA,IAC9C;AAAA,IAED,aAAU;AACTA,0BAAI,UAAU,IAAA,cAAA;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAG;AACZ,cAAI,IAAI,SAAS;AAEhB,kBAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,kBAAM,WAAWA,cAAAA,MAAI,eAAe,UAAU;AAE9CA,0BAAG,MAAC,iBAAgB;AAGpB,gBAAI;AAAOA,4BAAAA,MAAI,eAAe,SAAS,KAAK;AAC5C,gBAAI;AAAUA,4BAAAA,MAAI,eAAe,YAAY,QAAQ;AAErD,iBAAK,YAAY;AACjBA,0BAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,WAAW;AAAA,UAClD;AAAA,QACD;AAAA,MACA,CAAA,CAAA;AAAA,IACF;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;AClID,GAAG,WAAW,eAAe;"}